---
import BaseLayout from "@/layouts/BaseLayout.astro";

// Ton endpoint Formspree
const FORMSPREE_ENDPOINT = "https://formspree.io/f/xvgvbdpv";
---
<BaseLayout title="Contact • EAVEN" description="Parlez-nous de votre projet. Réponse sous 24h ouvrées.">
  <section class="section">
    <div class="container">
      <p class="kicker">Contact</p>
      <h1>Discutons de votre projet</h1>
      <p class="lead">Décrivez votre besoin, on revient vers vous rapidement.</p>

      <!-- Formulaire branché sur Formspree -->
      <form action={FORMSPREE_ENDPOINT} method="POST"
            class="form card"
            style="background:#fff;padding:22px;border-radius:16px;box-shadow:var(--shadow);margin-top:12px">

        <div class="form__row">
          <label class="form__field">
            <span>Nom</span>
            <input required name="name" placeholder="Votre nom" />
          </label>

          <label class="form__field">
            <span>Email</span>
            <!-- IMPORTANT: name="email" pour Formspree -->
            <input required type="email" name="email" placeholder="vous@exemple.fr" />
          </label>
        </div>

        <label class="form__field">
          <span>Sujet</span>
          <input name="subject" placeholder="Ex. Refonte site / SEO / Campagnes Ads…" />
        </label>

        <label class="form__field">
          <span>Votre besoin</span>
          <textarea required name="message" rows="6" placeholder="Objectifs, délais, budget…"></textarea>
        </label>

        <!-- Honeypot anti-bot (laisse vide et hors écran) -->
        <input type="text" name="_gotcha" tabindex="-1" autocomplete="off"
               style="position:absolute;left:-9999px" />

        <!-- Métadonnées Formspree (optionnelles mais utiles) -->
        <input type="hidden" name="_subject" value="Nouveau message via eaven.fr" />
        <input type="hidden" name="_language" value="fr" />
        <!-- Si tu veux rediriger vers /merci après envoi, dé-commente la ligne suivante
        <input type="hidden" name="_redirect" value="/merci" /> -->

        <label class="form__consent">
          <input type="checkbox" required />
          <span>J’accepte d’être contacté·e par EAVEN.</span>
        </label>

        <button class="btn btn--outline" type="submit">Envoyer</button>
      </form>
    </div>
  </section>
</BaseLayout>